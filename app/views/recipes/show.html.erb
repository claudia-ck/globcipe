<%= link_to "Back", recipes_path %>

<div class="recipe-card">
  <div class="recipe-header">
    <h1><%= @recipe.name%></h1>
    <div class="recipe-image">
      <%= image_tag @recipe.image_url, alt: @recipe.name %>
    </div>
  </div>

  <div class="ingredients-section">
    <h2>Ingredients</h2>
    <ul class="ingredients-list">
      <% @recipe.recipe_ingredients.each do |recipe_ingredient| %>
      <li><%= link_to recipe_ingredient.ingredient.name, ingredient_path(recipe_ingredient.ingredient.id) %>
      <%= recipe_ingredient.measure %></li>
    <% end %>
    </ul>
  </div>

  <div class="instructions-section">
    <h2>Instructions</h2>
      <p><%= @recipe.instruction %> </p>
  </div>
</div>
<%# Recipe Deatils section %>
<div>
  <div>
    <%# to update image %>
    <%= image_tag @recipe.image_url , width: 80, height: 80 %>
  </div>

  <div>
    <p>ID    <%= @recipe.id %> </p>
    <p>NAME  <%= @recipe.name %> </p>
    <p>INSTRUCTION  <%= @recipe.instruction %> </p>
    <p>CATEGORY  <%= @recipe.category %> </p>
    <p>AREA  <%= @recipe.area %> </p>

    <p> INGREDIENTS </p>
    <ol>
      <% @recipe.recipe_ingredients.each do |recipe_ingredient| %>
      <ul>
        <%= link_to recipe_ingredient.ingredient.name, ingredient_path(recipe_ingredient.ingredient.id) %>
        <%= recipe_ingredient.measure %>
      </ul>
      <% end %>
    </ol>
  </div>
</div>


<%# Favourite section %>
<div>
  <%# assign varibale 'favourited' %>
  <% favourited = @recipe.favourites.find_by(user: current_user) %>

  <% if favourited.present?  %>
      <p>Favourited !</p>
      <p>REMARKS  <%= favourited.remarks%> </p>
  <% else %>
    <h1>Favourite it!</h1>
    <%= simple_form_for [@recipe, @favourite], html: { class: "inline-form" } do |f| %>
      <%= f.input :remarks, input_html: { class: "inline-input" }, label: "Input remarks" %>
      <%= f.submit "Add favourite :D" %>
    <% end %>
  <% end %>
</div>
